/** layui-v1.0.7 LGPL License By http://www.layui.com */
layui.define(function(m){var l=window,a={},k=document,f="laydate_box laydate_void laydate_click LayDateSkin skins/ /laydate.css".split(" ");l.laydate=function(b){return b=b||{},a.run(b),laydate};laydate.v="1.1";a.trim=function(a){return a=a||"",a.replace(/^\s|\s$/g,"").replace(/\s+/g," ")};a.digit=function(a){return 10>a?"0"+(0|a):a};a.stopmp=function(a){return a=a||l.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,this};a.each=function(a,c){for(var b=0,e=a.length;b<e&&!1!==c(b,a[b]);b++);};a.hasClass=function(a,c){return a=a||{},(new RegExp("\\b"+c+"\\b")).test(a.className)};a.addClass=function(b,c){return b=b||{},a.hasClass(b,c)||(b.className+=" "+c),b.className=a.trim(b.className),this};a.removeClass=function(b,c){if(b=b||{},a.hasClass(b,c))b.className=b.className.replace(new RegExp("\\b"+c+"\\b"),"");return this};a.removeCssAttr=function(a,c){var b=a.style;b.removeProperty?b.removeProperty(c):b.removeAttribute(c)};a.shde=function(a,c){a.style.display=c?"none":"block"};a.query=function(b){if(b&&1===b.nodeType){if("input"!==b.tagName.toLowerCase())throw Error("\u9009\u62e9\u5668elem\u9519\u8bef");return b}var c;b=a.trim(b).split(" ");var d=k.getElementById(b[0].substr(1));if(d){if(b[1]){if(/^\./.test(b[1])){var e;b=b[1].substr(1);var f=new RegExp("\\b"+b+"\\b");return c=[],e=k.getElementsByClassName?d.getElementsByClassName(b):d.getElementsByTagName("*"),a.each(e,function(a,b){f.test(b.className)&&c.push(b)}),c[0]?c:""}return c=d.getElementsByTagName(b[1]),c[0]?d.getElementsByTagName(b[1]):""}return d}};a.on=function(b,c,d){return b.attachEvent?b.attachEvent("on"+c,function(){d.call(b,l.even)}):b.addEventListener(c,d,!1),a};a.stopMosup=function(b,c){"mouseup"!==b&&a.on(c,"mouseup",function(b){a.stopmp(b)})};a.run=function(b){var c=(a.query,b.elem);c&&(f.elemv=/textarea|input/.test(c.tagName.toLocaleLowerCase())?"value":"innerHTML",("init"in b?b.init:!0)&&!c[f.elemv]&&(c[f.elemv]=laydate.now(null,b.format||"YYYY-MM-DD")),a.view(c,b),a.reshow())};a.scroll=function(a){return a=a?"scrollLeft":"scrollTop",k.body[a]|k.documentElement[a]};a.winarea=function(a){return document.documentElement[a?"clientWidth":"clientHeight"]};a.isleap=function(a){return 0===a%4&&0!==a%100||0===a%400};a.checkVoid=function(b,c,d){var e=[];return b|=0,c|=0,d|=0,b<a.mins[0]?e=["y"]:b>a.maxs[0]?e=["y",1]:b>=a.mins[0]&&b<=a.maxs[0]&&(b==a.mins[0]&&(c<a.mins[1]?e=["m"]:c==a.mins[1]&&d<a.mins[2]&&(e=["d"])),b==a.maxs[0]&&(c>a.maxs[1]?e=["m",1]:c==a.maxs[1]&&d>a.maxs[2]&&(e=["d",1]))),e};a.timeVoid=function(b,c){if(a.ymd[1]+1==a.mins[1]&&a.ymd[2]==a.mins[2]){if(0===c&&b<a.mins[3]||1===c&&b<a.mins[4]||2===c&&b<a.mins[5])return 1}else if(a.ymd[1]+1==a.maxs[1]&&a.ymd[2]==a.maxs[2]&&(0===c&&b>a.maxs[3]||1===c&&b>a.maxs[4]||2===c&&b>a.maxs[5]))return 1;if(b>(c?59:23))return 1};a.check=function(){var b=a.options.format.replace(/YYYY|MM|DD|hh|mm|ss/g,"\\d+\\").replace(/\\$/g,""),b=new RegExp(b),c=a.elem[f.elemv],d=c.match(/\d+/g)||[],e=a.checkVoid(d[0],d[1],d[2]);if(""!==c.replace(/\s/g,"")){if(!b.test(c))return a.elem[f.elemv]="",a.msg("\u65e5\u671f\u4e0d\u7b26\u5408\u683c\u5f0f\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9\u3002"),1;if(e[0])return a.elem[f.elemv]="",a.msg("\u65e5\u671f\u4e0d\u5728\u6709\u6548\u671f\u5185\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9\u3002"),1;e.value=a.elem[f.elemv].match(b).join();d=e.value.match(/\d+/g);1>d[1]?(d[1]=1,e.auto=1):12<d[1]?(d[1]=12,e.auto=1):2>d[1].length&&(e.auto=1);1>d[2]?(d[2]=1,e.auto=1):d[2]>a.months[(0|d[1])-1]?(d[2]=31,e.auto=1):2>d[2].length&&(e.auto=1);3<d.length&&(a.timeVoid(d[3],0)&&(e.auto=1),a.timeVoid(d[4],1)&&(e.auto=1),a.timeVoid(d[5],2)&&(e.auto=1));e.auto?a.creation([d[0],0|d[1],0|d[2]],1):e.value!==a.elem[f.elemv]&&(a.elem[f.elemv]=e.value)}};a.months=[31,null,31,30,31,30,31,31,30,31,30,31];a.viewDate=function(b,c,d){var e=(a.query,{}),g=new Date;b<(0|a.mins[0])&&(b=0|a.mins[0]);b>(0|a.maxs[0])&&(b=0|a.maxs[0]);g.setFullYear(b,c,d);e.ymd=[g.getFullYear(),g.getMonth(),g.getDate()];a.months[1]=a.isleap(e.ymd[0])?29:28;g.setFullYear(e.ymd[0],e.ymd[1],1);e.FDay=g.getDay();e.PDay=a.months[0===c?11:c-1]-e.FDay+1;e.NDay=1;a.each(f.tds,function(b,d){var c,g=e.ymd[0],h=e.ymd[1]+1;d.className="";b<e.FDay?(d.innerHTML=c=b+e.PDay,a.addClass(d,"laydate_nothis"),1===h&&--g,h=1===h?12:h-1):b>=e.FDay&&b<e.FDay+a.months[e.ymd[1]]?(d.innerHTML=c=b-e.FDay+1,b-e.FDay+1===e.ymd[2]&&(a.addClass(d,f[2]),e.thisDay=d)):(d.innerHTML=c=e.NDay++,a.addClass(d,"laydate_nothis"),12===h&&(g+=1),h=12===h?1:h+1);a.checkVoid(g,h,c)[0]&&a.addClass(d,f[1]);a.options.festival&&a.festival(d,h+"."+c);d.setAttribute("y",g);d.setAttribute("m",h);d.setAttribute("d",c)});a.valid=!a.hasClass(e.thisDay,f[1]);a.ymd=e.ymd;f.year.value=a.ymd[0]+"\u5e74";f.month.value=a.digit(a.ymd[1]+1)+"\u6708";a.each(f.mms,function(b,d){var c=a.checkVoid(a.ymd[0],(0|d.getAttribute("m"))+1);"y"===c[0]||"m"===c[0]?a.addClass(d,f[1]):a.removeClass(d,f[1]);a.removeClass(d,f[2])});a.addClass(f.mms[a.ymd[1]],f[2]);e.times=[0|a.inymd[3]||0,0|a.inymd[4]||0,0|a.inymd[5]||0];a.each(Array(3),function(b){a.hmsin[b].value=a.digit(a.timeVoid(e.times[b],b)?0|a.mins[b+3]:0|e.times[b])});a[a.valid?"removeClass":"addClass"](f.ok,f[1])};a.festival=function(a,c){var b;switch(c){case "1.1":b="\u5143\u65e6";break;case "3.8":b="\u5987\u5973";break;case "4.5":b="\u6e05\u660e";break;case "5.1":b="\u52b3\u52a8";break;case "6.1":b="\u513f\u7ae5";break;case "9.10":b="\u6559\u5e08";break;case "10.1":b="\u56fd\u5e86"}b&&(a.innerHTML=b)};a.viewYears=function(b){var c=a.query,d="";a.each(Array(14),function(a){d+=7===a?"\x3cli "+(parseInt(f.year.value)===b?'class\x3d"'+f[2]+'"':"")+' y\x3d"'+b+'"\x3e'+b+"\u5e74\x3c/li\x3e":'\x3cli y\x3d"'+(b-7+a)+'"\x3e'+(b-7+a)+"\u5e74\x3c/li\x3e"});c("#laydate_ys").innerHTML=d;a.each(c("#laydate_ys li"),function(b,d){"y"===a.checkVoid(d.getAttribute("y"))[0]?a.addClass(d,f[1]):a.on(d,"click",function(b){a.stopmp(b).reshow();a.viewDate(0|this.getAttribute("y"),a.ymd[1],a.ymd[2])})})};a.initDate=function(){var b=(a.query,new Date),c=a.elem[f.elemv].match(/\d+/g)||[];3>c.length&&(c=a.options.start.match(/\d+/g)||[],3>c.length&&(c=[b.getFullYear(),b.getMonth()+1,b.getDate()]));a.inymd=c;a.viewDate(c[0],c[1]-1,c[2])};a.iswrite=function(){var b=a.query,b=b("#laydate_hms");a.shde(b,!a.options.istime);a.shde(f.oclear,!("isclear"in a.options?a.options.isclear:1));a.shde(f.otoday,!("istoday"in a.options?a.options.istoday:1));a.shde(f.ok,!("issure"in a.options?a.options.issure:1))};a.orien=function(b,c){var d;d=a.elem.getBoundingClientRect();b.style.left=d.left+(c?0:a.scroll(1))+"px";d=d.bottom+b.offsetHeight/1.5<=a.winarea()?d.bottom-1:d.top>b.offsetHeight/1.5?d.top-b.offsetHeight+1:a.winarea()-b.offsetHeight;b.style.top=Math.max(d+(c?0:a.scroll()),1)+"px"};a.follow=function(b){a.options.fixed?(b.style.position="fixed",a.orien(b,1)):(b.style.position="absolute",a.orien(b))};a.viewtb=function(){var b,c=[],d="\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),e={},f=k.createElement("table"),h=k.createElement("thead");return h.appendChild(k.createElement("tr")),e.creath=function(a){var b=k.createElement("th");b.innerHTML=d[a];h.getElementsByTagName("tr")[0].appendChild(b)},a.each(Array(6),function(d){c.push([]);b=f.insertRow(0);a.each(Array(7),function(a){c[d][a]=0;0===d&&e.creath(a);b.insertCell(a)})}),f.insertBefore(h,f.children[0]),f.id=f.className="laydate_table",b=c=null,f.outerHTML.toLowerCase()}();a.view=function(b,c){var d,e=a.query,g;c=c||b;a.elem=b;a.options=c;a.options.format||(a.options.format="YYYY-MM-DD");a.options.start=a.options.start||"";a.mm=g=[a.options.min||"1900-01-01 00:00:00",a.options.max||"2099-12-31 23:59:59"];a.mins=g[0].match(/\d+/g);a.maxs=g[1].match(/\d+/g);a.box?a.shde(a.box):(d=k.createElement("div"),d.id=f[0],d.className=f[0],d.style.cssText="position: absolute;",d.setAttribute("name","laydate-v"+laydate.v),d.innerHTML='\x3cdiv class\x3d"laydate_top"\x3e\x3cdiv class\x3d"laydate_ym laydate_y" id\x3d"laydate_YY"\x3e\x3ca class\x3d"laydate_choose laydate_chprev laydate_tab"\x3e\x3ccite\x3e\x3c/cite\x3e\x3c/a\x3e\x3cinput id\x3d"laydate_y" readonly\x3e\x3clabel\x3e\x3c/label\x3e\x3ca class\x3d"laydate_choose laydate_chnext laydate_tab"\x3e\x3ccite\x3e\x3c/cite\x3e\x3c/a\x3e\x3cdiv class\x3d"laydate_yms"\x3e\x3ca class\x3d"laydate_tab laydate_chtop"\x3e\x3ccite\x3e\x3c/cite\x3e\x3c/a\x3e\x3cul id\x3d"laydate_ys"\x3e\x3c/ul\x3e\x3ca class\x3d"laydate_tab laydate_chdown"\x3e\x3ccite\x3e\x3c/cite\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"laydate_ym laydate_m" id\x3d"laydate_MM"\x3e\x3ca class\x3d"laydate_choose laydate_chprev laydate_tab"\x3e\x3ccite\x3e\x3c/cite\x3e\x3c/a\x3e\x3cinput id\x3d"laydate_m" readonly\x3e\x3clabel\x3e\x3c/label\x3e\x3ca class\x3d"laydate_choose laydate_chnext laydate_tab"\x3e\x3ccite\x3e\x3c/cite\x3e\x3c/a\x3e\x3cdiv class\x3d"laydate_yms" id\x3d"laydate_ms"\x3e'+function(){var b="";return a.each(Array(12),function(d){b+='\x3cspan m\x3d"'+d+'"\x3e'+a.digit(d+1)+"\u6708\x3c/span\x3e"}),b}()+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"+a.viewtb+'\x3cdiv class\x3d"laydate_bottom"\x3e\x3cul id\x3d"laydate_hms"\x3e\x3cli class\x3d"laydate_sj"\x3e\u65f6\u95f4\x3c/li\x3e\x3cli\x3e\x3cinput readonly\x3e:\x3c/li\x3e\x3cli\x3e\x3cinput readonly\x3e:\x3c/li\x3e\x3cli\x3e\x3cinput readonly\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"laydate_time" id\x3d"laydate_time"\x3e\x3c/div\x3e\x3cdiv class\x3d"laydate_btn"\x3e\x3ca id\x3d"laydate_clear"\x3e\u6e05\u7a7a\x3c/a\x3e\x3ca id\x3d"laydate_today"\x3e\u4eca\u5929\x3c/a\x3e\x3ca id\x3d"laydate_ok"\x3e\u786e\u8ba4\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e',k.body.appendChild(d),a.box=e("#"+f[0]),a.events(),d=null);a.follow(a.box);c.zIndex?a.box.style.zIndex=c.zIndex:a.removeCssAttr(a.box,"z-index");a.stopMosup("click",a.box);a.initDate();a.iswrite();a.check()};a.reshow=function(){return a.each(a.query("#"+f[0]+" .laydate_show"),function(b,c){a.removeClass(c,"laydate_show")}),this};a.close=function(){a.reshow();a.shde(a.query("#"+f[0]),1);a.elem=null};a.parse=function(b,c,d){return b=b.concat(c),d=d||(a.options?a.options.format:"YYYY-MM-DD"),d.replace(/YYYY|MM|DD|hh|mm|ss/g,function(d,c){return b.index=0|++b.index,a.digit(b[b.index])})};a.creation=function(b,c){var d=(a.query,a.hmsin),d=a.parse(b,[d[0].value,d[1].value,d[2].value]);a.elem[f.elemv]=d;c||(a.close(),"function"==typeof a.options.choose&&a.options.choose(d))};a.events=function(){var b=a.query,c={box:"#"+f[0]};a.addClass(k.body,"laydate_body");f.tds=b("#laydate_table td");f.mms=b("#laydate_ms span");f.year=b("#laydate_y");f.month=b("#laydate_m");a.each(b(c.box+" .laydate_ym"),function(b,e){a.on(e,"click",function(d){a.stopmp(d).reshow();a.addClass(this.getElementsByTagName("div")[0],"laydate_show");b||(c.YY=parseInt(f.year.value),a.viewYears(c.YY))})});a.on(b(c.box),"click",function(){a.reshow()});c.tabYear=function(b){0===b?a.ymd[0]--:1===b?a.ymd[0]++:2===b?c.YY-=14:c.YY+=14;2>b?(a.viewDate(a.ymd[0],a.ymd[1],a.ymd[2]),a.reshow()):a.viewYears(c.YY)};a.each(b("#laydate_YY .laydate_tab"),function(b,e){a.on(e,"click",function(d){a.stopmp(d);c.tabYear(b)})});c.tabMonth=function(b){b?(a.ymd[1]++,12===a.ymd[1]&&(a.ymd[0]++,a.ymd[1]=0)):(a.ymd[1]--,-1===a.ymd[1]&&(a.ymd[0]--,a.ymd[1]=11));a.viewDate(a.ymd[0],a.ymd[1],a.ymd[2])};a.each(b("#laydate_MM .laydate_tab"),function(b,e){a.on(e,"click",function(d){a.stopmp(d).reshow();c.tabMonth(b)})});a.each(b("#laydate_ms span"),function(b,c){a.on(c,"click",function(b){a.stopmp(b).reshow();a.hasClass(this,f[1])||a.viewDate(a.ymd[0],0|this.getAttribute("m"),a.ymd[2])})});a.each(b("#laydate_table td"),function(b,c){a.on(c,"click",function(b){a.hasClass(this,f[1])||(a.stopmp(b),a.creation([0|this.getAttribute("y"),0|this.getAttribute("m"),0|this.getAttribute("d")]))})});f.oclear=b("#laydate_clear");a.on(f.oclear,"click",function(){a.elem[f.elemv]="";a.close()});f.otoday=b("#laydate_today");a.on(f.otoday,"click",function(){var b=new Date;a.creation([b.getFullYear(),b.getMonth()+1,b.getDate()])});f.ok=b("#laydate_ok");a.on(f.ok,"click",function(){a.valid&&a.creation([a.ymd[0],a.ymd[1]+1,a.ymd[2]])});c.times=b("#laydate_time");a.hmsin=c.hmsin=b("#laydate_hms input");c.hmss=["\u5c0f\u65f6","\u5206\u949f","\u79d2\u6570"];c.hmsarr=[];a.msg=function(d,e){var g='\x3cdiv class\x3d"laydte_hsmtex"\x3e'+(e||"\u63d0\u793a")+"\x3cspan\x3e\u00d7\x3c/span\x3e\x3c/div\x3e";"string"==typeof d?(g+="\x3cp\x3e"+d+"\x3c/p\x3e",a.shde(b("#"+f[0])),a.removeClass(c.times,"laydate_time1").addClass(c.times,"laydate_msg")):(c.hmsarr[d]?g=c.hmsarr[d]:(g+='\x3cdiv id\x3d"laydate_hmsno" class\x3d"laydate_hmsno"\x3e',a.each(Array(0===d?24:60),function(a){g+="\x3cspan\x3e"+a+"\x3c/span\x3e"}),g+="\x3c/div\x3e",c.hmsarr[d]=g),a.removeClass(c.times,"laydate_msg"),a[0===d?"removeClass":"addClass"](c.times,"laydate_time1"));a.addClass(c.times,"laydate_show");c.times.innerHTML=g};c.hmson=function(d,c){var e=b("#laydate_hmsno span"),h=a.valid?null:1;a.each(e,function(b,e){h?a.addClass(e,f[1]):a.timeVoid(b,c)?a.addClass(e,f[1]):a.on(e,"click",function(b){a.hasClass(this,f[1])||(d.value=a.digit(0|this.innerHTML))})});a.addClass(e[0|d.value],"laydate_click")};a.each(c.hmsin,function(b,e){a.on(e,"click",function(d){a.stopmp(d).reshow();a.msg(b,c.hmss[b]);c.hmson(this,b)})});a.on(k,"mouseup",function(){var c=b("#"+f[0]);c&&"none"!==c.style.display&&(a.check()||a.close())}).on(k,"keydown",function(b){b=b||l.event;13===b.keyCode&&a.elem&&a.creation([a.ymd[0],a.ymd[1]+1,a.ymd[2]])})};laydate.reset=function(){a.box&&a.elem&&a.follow(a.box)};laydate.now=function(b,c){var d=Date,e;0|b?(e=parseInt(b),e=864E5>e?+new Date+864E5*e:e):e=+new Date;d=new d(e);return a.parse([d.getFullYear(),d.getMonth()+1,d.getDate()],[d.getHours(),d.getMinutes(),d.getSeconds()],c)};layui.addcss("modules/laydate/laydate.css",function(){},"laydatecss");m("laydate",laydate)});