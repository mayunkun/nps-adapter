<head>
    <!--Start Style -->
    <link rel="stylesheet" type="text/css" href="assets/css/datatables.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">
    <!--Custom Style -->
    <link rel="stylesheet" type="text/css" href="assets/css/style.min.css">
    <!-- Tweaks for older IEs--><!--[if lt IE 9]>
    <script src="static/js/html5shiv.min.js"></script>
    <script src="static/js/respond.min.js"></script><![endif]-->

    <style>
        body .demo-class .layui-layer-btn0 {
            border-color: #E6E3E6;
            background-color: #FFF;
            color: black;
        }

        body .demo-class .layui-layer-btn1 {
            border-color: #4898d5;
            background-color: #2e8ded;
            color: #fff;
        }

        body .table-responsive {
            overflow-x: visible;
        }

        body .label-info {
            background-color: #11a1fd;
        }

        .zindex100 {
            z-index: 100 !important;
        }
    </style>
</head>


<body>
<div class="loader">
    <div class="spinner">
        <img src="assets/images/loader.gif" alt=""/>
    </div>
</div>

<div class="row">
    <!-- Styled Table Card-->
    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
        <div class="card table-card">
            <div class="card-body">
                <table id="example" class="table table-striped table-bordered dt-responsive nowrap"
                       style="width:100%">
                    <thead>
                    <tr>
                        <th>订单编号</th>
                        <th>订单金额</th>
                        <th>支付方式</th>
                        <th>创建时间</th>
                        <th>支付状态</th>
                        <th>操作</th>
                    </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Script Start -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/popper.min.js"></script>
<script src="assets/js/datatables.min.js"></script>
<script src="assets/js/dataTables.responsive.min.js"></script>
<script src="assets/js/bootstrap.min.js"></script>
<!-- Custom Script -->
<script src="assets/js/custom.min.js"></script>
<script src="static/plugins/layer/layer.min.js"></script>
<script src="static/js/bootstrap-show-modal.min.js"></script>
<script src="static/js/dbg.min.js"></script>


<script>
    // 头像
    if (null != localStorage.getItem('headUrl') && '' !== localStorage.getItem('headUrl')) {
        $('#headUrl').attr('src', localStorage.getItem('headUrl'));
    }
    // 邮箱
    if (null != localStorage.getItem('mail') && '' !== localStorage.getItem('mail')) {
        $('#mail').html(localStorage.getItem('mail'));
    }
    // 等级
    if (null != localStorage.getItem('consumptionPoints') && '' !== localStorage.getItem('consumptionPoints')) {
        var crown = parseInt(localStorage.getItem('consumptionPoints') / 1000);                         //  皇冠
        var sun = parseInt((localStorage.getItem('consumptionPoints') % 1000) / 300);                   //  太阳
        var moon = parseInt((localStorage.getItem('consumptionPoints') % 1000 % 300) / 100);            //  月亮
        var star = parseInt((localStorage.getItem('consumptionPoints') % 1000 % 300 % 100) / 30);       //  星星
        $('#vip').html('');
        let vip = '会员等级: ';
        for (var i = 0; i < crown; i++) {
            vip += '<svg t="1683614781534" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8228" width="16" height="16"><path d="M886.5 748c30.4-35.9 62.4-80.5 71.3-147.5 11.2-82.1-20.7-144.9-85.6-114-13.2 5.7-25.3 11.4-36.7 17.1-16.5-61.4-62.3-94.8-122.9-58.9-59.2 32.4-99.9 62.5-135.8 85.9-4.5-1.1-9.2-2.1-13.9-3-7.6-39.2-17.8-71.4-29.9-98.9 35.3-29.8 52.9-19.1 46.3 47.1 52.3-54.5 59.3-88.1 16.4-98.6-20.1 0.1-43 9.2-67.3 22.8 23.1-16 41.7-42.9 39.3-64.8-0.6-16.4-7.2-21.5-18.4-17.1-8.8 3.4-14.6-1.1-19.1-9.5 4.6-4.5 7.6-10.9 7.6-18.1 0-13.8-11.1-25-24.7-25-13.7 0-24.7 11.2-24.7 25 0 6.3 2.4 12 6.2 16.5-4.6 9.3-10.7 14.7-20 11.1-11.2-4.4-17.8 0.7-18.4 17.1-2.4 22 16.3 48.7 39.3 64.8-24.2-13.7-47.2-22.7-67.3-22.8-42.9 10.5-35.9 44.1 16.4 98.6-6.5-66.2 11.1-76.9 46.3-47.1-12 27.5-22.3 59.5-29.9 98.9-4.6 0.8-9.3 1.9-13.8 3-35.9-23.5-76.6-53.5-135.8-85.9-60.6-35.9-106.4-2.6-122.9 58.9-11.4-5.6-23.5-11.4-36.7-17.1-64.8-30.8-96.8 31.9-85.6 114 8.9 67.1 41 111.6 71.3 147.5 7.8 9.3 16.9 17.1 26.1 24.4h-0.1c-14.5 0-26.3 32.6-26.3 72.6 0 40.2 11.8 72.7 26.3 72.7h696.8c14.5 0 26.3-32.6 26.3-72.7 0-40.2-11.8-72.6-26.3-72.6 9.3-7.3 18.4-15.2 26.2-24.4zM702.8 480c47.3 0.2 48.2 37.9 46.9 89.2 1 21.3-4 46-11.8 70.5-35.3-49.1-85.6-86.3-144.1-104.5 44.5-23.1 88.2-53.9 109-55.2z m-189.3-16.7c9.9 0 17.9 8.1 17.9 18.1 0 10.1-8.1 18.2-17.9 18.2s-17.9-8.1-17.9-18.2c-0.1-10 8-18.1 17.9-18.1z m0 61.8c9.9 0 17.9 8.2 17.9 18.2 0 10.1-8.1 18.3-17.9 18.3s-17.9-8.2-17.9-18.3c-0.1-10 8-18.2 17.9-18.2z m0 61.9c9.9 0 17.9 8.2 17.9 18.3 0 10-8.1 18.2-17.9 18.2s-17.9-8.2-17.9-18.2c-0.1-10.1 8-18.3 17.9-18.3z m0 61.9c9.9 0 17.9 8.2 17.9 18.3 0 10-8.1 18.2-17.9 18.2s-17.9-8.2-17.9-18.2c-0.1-10.1 8-18.3 17.9-18.3z m0 61.9c9.9 0 17.9 8.2 17.9 18.2 0 10.1-8.1 18.3-17.9 18.3s-17.9-8.2-17.9-18.3c-0.1-10.1 8-18.2 17.9-18.2zM321.2 480c20.8 1.3 64.5 32.1 108.9 55.3-58.6 18.2-108.9 55.4-144.1 104.5-7.6-24.5-12.6-49.2-11.8-70.5-1.2-51.4-0.3-89 47-89.3zM220.8 768.4c0.7 4.2-71.7-94.7-80-163.8-8.4-46.5-13.1-80.9 23.8-87.2 4.9-0.5 11.9 1.4 20.2 4.4-1.5 9.5-2.6 19.3-2.9 29.6-2.3 73.3 29 126.7 59.8 170.4 0.8 1.1 1.7 2.1 2.5 3.2-4.5 15.2-7.6 31-9.6 47.3h-10.9c-1-1.2-1.8-2.4-2.9-3.9zM332.9 873h-69c-18.1 0-32.7-13.2-32.7-29.5s14.6-29.6 32.7-29.6h69c18.1 0 32.7 13.2 32.7 29.6-0.1 16.3-14.7 29.5-32.7 29.5z m145.5-14.2l-28.6 15-28.8-14.9-28.7-14.9 28.6-15 28.6-15 28.8 14.9 28.6 14.9-28.5 15z m124.4 0.1L574 873.8l-28.6-15-28.5-15 28.6-14.9 28.8-14.9 28.6 15 28.6 15-28.7 14.9zM760.2 873h-69c-18.1 0-32.7-13.2-32.7-29.5s14.6-29.6 32.7-29.6h69c18.1 0 32.7 13.2 32.7 29.6 0 16.3-14.7 29.5-32.7 29.5z m29.2-100.6c-1.9-16.2-5.1-32.1-9.6-47.3 0.8-1.1 1.7-2.1 2.5-3.2 30.9-43.7 62-97.1 59.8-170.4-0.2-10.3-1.3-20.2-2.9-29.6 8.2-2.9 15.3-4.8 20.2-4.4 36.8 6.3 32.2 40.8 23.8 87.2-8.3 69-80.8 167.9-80.1 163.8-1 1.3-1.9 2.6-2.9 3.9h-10.8zM514.1 156.3c13.7 0 24.7-11.3 24.7-25.1s-11.1-25-24.7-25c-13.7 0-24.7 11.2-24.7 25s11 25.1 24.7 25.1zM513.1 208.9c13.7 0 24.7-11.3 24.7-25.1s-11.1-25-24.7-25c-13.7 0-24.7 11.2-24.7 25s11.1 25.1 24.7 25.1zM460.5 208.9c13.7 0 24.7-11.3 24.7-25.1s-11.1-25-24.7-25c-13.7 0-24.7 11.2-24.7 25s11 25.1 24.7 25.1zM565.8 208.9c13.7 0 24.7-11.3 24.7-25.1s-11.1-25-24.7-25-24.7 11.2-24.7 25c0.1 13.8 11.1 25.1 24.7 25.1zM513.1 262.3c13.7 0 24.7-11.3 24.7-25.1s-11.1-25-24.7-25c-13.7 0-24.7 11.2-24.7 25s11.1 25.1 24.7 25.1z" p-id="8229" fill="#f4ea2a"></path></svg>';
        }
        for (var i = 0; i < sun; i++) {
            vip += '<svg t="1683614850374" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9591" width="16" height="16"><path d="M505.34 221.87c-9.91 0-17.93-8.04-17.93-17.95V96.25c0-9.91 8.02-17.94 17.93-17.94 9.93 0 17.95 8.03 17.95 17.94v107.67c0 9.91-8.02 17.95-17.95 17.95zM505.34 939.67s0.02 0 0 0c-9.88 0-17.93-8.03-17.93-17.94V814.06c0-9.91 8.04-17.95 17.95-17.95s17.93 8.04 17.93 17.95v107.67c0 9.91-8.02 17.94-17.95 17.94z" fill="#F6BB42" p-id="9592"></path><path d="M302.32 305.96c-7.02 7.01-18.37 7.01-25.37 0l-76.15-76.14c-6.99-7-6.99-18.36 0-25.37 7.02-7.02 18.37-7.02 25.39 0l76.13 76.13c7.02 7.01 7.02 18.38 0 25.38zM809.9 813.52c-7.02 7.02-18.38 7.02-25.39 0l-76.13-76.13c-7.02-7.01-7.02-18.38 0-25.38 7.02-7.01 18.37-7.01 25.39 0l76.13 76.14c6.99 7 6.99 18.36 0 25.37z" fill="#FFCE54" p-id="9593"></path><path d="M218.23 508.99c0 9.91-8.04 17.94-17.95 17.94H92.61c-9.91 0-17.93-8.03-17.95-17.94 0-9.91 8.04-17.94 17.95-17.94h107.67c9.91 0 17.95 8.02 17.95 17.94zM936.02 508.99c0 9.91-8.02 17.94-17.93 17.94H810.42c-9.91 0-17.95-8.03-17.95-17.94 0-9.91 8.04-17.94 17.95-17.94h107.67c9.91 0 17.93 8.02 17.93 17.94z" fill="#F6BB42" p-id="9594"></path><path d="M302.32 712.01c7.02 7 7.02 18.37 0 25.38l-76.13 76.13c-7.02 7.02-18.37 7.02-25.39 0-6.99-7.01-6.99-18.36 0-25.37l76.15-76.14c7-7.01 18.36-7.01 25.37 0zM809.9 204.44c0 0.01 0 0 0 0 6.99 7.02 6.99 18.38 0 25.38l-76.15 76.14c-6.99 7.01-18.35 7.01-25.37 0-7.02-7-7.02-18.37 0-25.38l76.13-76.14c7.01-7 18.37-7 25.39 0z" fill="#FFCE54" p-id="9595"></path><path d="M505.34 742.27c-128.62 0-233.27-104.65-233.27-233.28S376.72 275.7 505.34 275.7c128.65 0 233.29 104.65 233.29 233.28S633.98 742.27 505.34 742.27z" fill="#FFCE54" p-id="9596"></path><path d="M505.34 257.75c-138.74 0-251.22 112.48-251.22 251.24S366.6 760.22 505.34 760.22c138.77 0 251.25-112.48 251.25-251.23S644.1 257.75 505.34 257.75z m152.27 403.5c-40.66 40.68-94.74 63.08-152.28 63.08-57.52 0-111.59-22.4-152.25-63.08C312.42 620.59 290 566.5 290 508.99s22.42-111.6 63.09-152.26c40.66-40.68 94.74-63.08 152.25-63.08 57.54 0 111.61 22.4 152.28 63.08 40.67 40.66 63.06 94.75 63.06 152.26s-22.4 111.6-63.07 152.26z" fill="#F6BB42" p-id="9597"></path></svg>';
        }
        for (var i = 0; i < moon; i++) {
            vip += '<svg t="1683614896073" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12439" width="16" height="16"><path d="M565 200.4c25.6 44.6 40.4 96.2 40.4 151.3 0 167.9-136.1 304-304 304-22.9 0-45.2-2.6-66.7-7.4C284.5 760.7 397 839.2 527.8 839.2c177 0 320.5-143.5 320.5-320.5 0-164.4-123.8-299.8-283.3-318.3zM312.9 243.6h-39.2v-39.2c0-10.8-8.8-19.6-19.6-19.6s-19.6 8.8-19.6 19.6v39.2h-39.2c-10.8 0-19.6 8.8-19.6 19.6s8.8 19.6 19.6 19.6h39.2V322c0 10.8 8.8 19.6 19.6 19.6s19.6-8.8 19.6-19.6v-39.2h39.2c10.8 0 19.6-8.8 19.6-19.6s-8.8-19.6-19.6-19.6z" fill="#FFF0C2" p-id="12440"></path><path d="M306.9 245.6h-35.2v-35.2c0-9.7-7.9-17.6-17.6-17.6-9.7 0-17.6 7.9-17.6 17.6v35.2h-35.2c-9.7 0-17.6 7.9-17.6 17.6 0 9.7 7.9 17.6 17.6 17.6h35.2V316c0 9.7 7.9 17.6 17.6 17.6 9.7 0 17.6-7.9 17.6-17.6v-35.2h35.2c9.7 0 17.6-7.9 17.6-17.6 0-9.7-7.9-17.6-17.6-17.6z" fill="#FFC445" p-id="12441"></path><path d="M427.8 475.3h-27.5v-27.5c0-7.6-6.2-13.8-13.8-13.8-7.6 0-13.8 6.2-13.8 13.8v27.5h-27.5c-7.6 0-13.8 6.2-13.8 13.8 0 7.6 6.2 13.8 13.8 13.8h27.5v27.5c0 7.6 6.2 13.8 13.8 13.8 7.6 0 13.8-6.2 13.8-13.8v-27.5h27.5c7.6 0 13.8-6.2 13.8-13.8 0-7.6-6.2-13.8-13.8-13.8z" fill="#FFF0C2" p-id="12442"></path><path d="M423.6 476.7h-24.7V452c0-6.8-5.5-12.4-12.4-12.4-6.8 0-12.4 5.5-12.4 12.4v24.7h-24.7c-6.8 0-12.4 5.5-12.4 12.4 0 6.8 5.5 12.4 12.4 12.4h24.7v24.7c0 6.8 5.5 12.4 12.4 12.4 6.8 0 12.4-5.5 12.4-12.4v-24.7h24.7c6.8 0 12.4-5.5 12.4-12.4 0-6.8-5.5-12.4-12.4-12.4z" fill="#FFC445" p-id="12443"></path><path d="M563.4 223c23.8 41.4 37.5 89.4 37.5 140.6 0 156-126.5 282.5-282.5 282.5-21.3 0-42-2.4-62-6.9 46.3 104.5 150.8 177.4 272.4 177.4 164.5 0 297.9-133.4 297.9-297.9 0-152.7-115.1-278.6-263.3-295.7z" fill="#FFB948" p-id="12444"></path></svg>';
        }
        for (var i = 0; i < star; i++) {
            vip += '<svg t="1683614909533" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13456" width="16" height="16"><path d="M313.991837 914.285714c-20.37551 0-40.228571-6.269388-56.946939-18.808163-30.302041-21.942857-44.930612-58.514286-38.661225-95.085714l24.032654-141.061225c3.134694-18.285714-3.134694-36.571429-16.195919-49.110204L123.297959 509.910204c-26.644898-26.122449-36.04898-64.261224-24.555102-99.787755 11.493878-35.526531 41.795918-61.126531 78.889796-66.35102l141.583674-20.375511c18.285714-2.612245 33.959184-14.106122 41.795918-30.30204l63.216326-128.522449C440.946939 130.612245 474.383673 109.714286 512 109.714286s71.053061 20.897959 87.24898 54.334694L662.987755 292.571429c8.359184 16.195918 24.032653 27.689796 41.795918 30.30204l141.583674 20.375511c37.093878 5.22449 67.395918 30.82449 78.889796 66.35102 11.493878 35.526531 2.089796 73.665306-24.555102 99.787755l-102.4 99.787755c-13.061224 12.538776-19.330612 31.346939-16.195919 49.110204l24.032654 141.061225c6.269388 37.093878-8.359184 73.142857-38.661225 95.085714-30.302041 21.942857-69.485714 24.555102-102.4 7.314286L538.122449 836.440816c-16.195918-8.359184-35.526531-8.359184-51.722449 0l-126.955102 66.87347c-14.628571 7.314286-30.302041 10.971429-45.453061 10.971428z m162.481632-96.653061z" fill="#F2CB51" p-id="13457"></path></svg>';
        }
        $('#vip').html('会员等级: ' == vip ? '' : vip);
    }

    var table;

    $(document).ready(function () {
        notice();
        table = $('#example').DataTable({
            language: {  //将英文转换为中文
                "sProcessing": "数据加载中...",
                "sLengthMenu": "显示 _MENU_ 项结果",
                "sZeroRecords": "没有匹配结果",
                "sInfo": "显示第 _START_ 至 _END_ 项结果，共 _TOTAL_ 项",
                "sInfoEmpty": "显示第 0 至 0 项结果，共 0 项",
                "sInfoFiltered": "(由 _MAX_ 项结果过滤)",
                "sInfoPostFix": "",
                "sSearch": "搜索:",
                "sUrl": "",
                "sEmptyTable": "数据为空",
                "sLoadingRecords": "载入中...",
                "sInfoThousands": ",",
                "oPaginate": {
                    "sFirst": "首页",
                    "sPrevious": "上页",
                    "sNext": "下页",
                    "sLast": "末页"
                },
                "oAria": {
                    "sSortAscending": ": 以升序排列此列",
                    "sSortDescending": ": 以降序排列此列"
                }
            },
            processing: false,      //
            searching: false,       //去掉search
            pageLength: 5,          //页大小
            bLengthChange: false,   //页大小调整
            lengthMenu: [[5, 10, 20, -1], [5, 10, 20, "ALL"]],
            bSort: false,           //排序
            paging: true,           //分页
            info: true,             //分页文字
            autoWidth: true,        //自动计算宽度
            deferRender: true,      //延迟渲染
            serverSide: true,       //开启服务器模式
            bAutoWidth: true,       //自动宽度

            // responsive: false,      //关闭响应拓展
            // scrollX: true,          //设置X轴滚动
            // scrollCollapse: true,   //滚动折叠
            // fixedColumns:   {       //固定列
            //     left: 0,
            //     right: 1
            // },

            ajax: {
                url: baseUrl + "/order/list",
                type: 'GET',
                // contentType: 'application/json;charset=utf-8',
                headers: {
                    token: localStorage.getItem('token')
                },
                data: {
                    // 'key': '123'
                },
                dataSrc: function (data) {
                    if (data.code == 500) {
                        parent.toLogin();
                    }
                    return data.data;
                }
            },
            fnRowCallback: function (nRow, aData, iDisplayIndex, iDisplayIndexFull) {
                $('td:eq(0)', nRow).attr('style', 'text-align: right;');
            },
            columns: [
                {
                    data: "orderNo",
                    sDefaultContent: "",
                    sClass: "text-center",
                    render: function (data, type, row, meta) {
                        return '<svg t="1691058820930" class="icon" viewBox="0 0 1246 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3182" width="16" height="16"><path d="M622.319529 961.924733H32.697945a31.032715 31.032715 0 1 0 0 62.06543H622.319529a31.032715 31.032715 0 1 0 0-62.06543z" fill="#007bff" p-id="3183"></path><path d="M622.319529 641.134103H32.697945a31.032715 31.032715 0 1 0 0 62.06543H622.319529a31.032715 31.032715 0 1 0 0-62.06543z" fill="#007bff" p-id="3184"></path><path d="M622.319529 320.880061H32.697945a31.032715 31.032715 0 1 0 0 62.06543H622.319529a31.032715 31.032715 0 1 0 0-62.06543z" fill="#007bff" p-id="3185"></path><path d="M36.454066 62.06543h1179.153737a31.032715 31.032715 0 1 0 0-62.06543H36.454066a31.032715 31.032715 0 1 0 0 62.06543z" fill="#007bff" p-id="3186"></path><path d="M1224.908675 757.1267h-140.854542V279.294435a31.032715 31.032715 0 0 0-62.06543 0v477.832265H881.670749a17.349702 17.349702 0 0 0-14.309033 28.528634l171.261237 230.912018a17.886291 17.886291 0 0 0 29.154655 0l171.261236-230.912018a17.886291 17.886291 0 0 0-14.309032-28.528634z" fill="#007bff" p-id="3187"></path></svg>' +
                            '&nbsp;&nbsp;&nbsp;' + data;
                    }
                },
                {
                    data: "amount",
                    sClass: "text-center",
                    render: function (data, type, row, meta) {
                        return '<label class="mb-0 badge badge-primary" title="" data-original-title="Pending">' + data + '</label>';
                    }
                },
                {
                    data: "payType",
                    sClass: "text-center",
                    render: function (data, type, row, meta) {
                        return data == 1 ? '<svg t="1683617001971" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3435" width="16" height="16"><path d="M337.387283 341.82659c-17.757225 0-35.514451 11.83815-35.514451 29.595375s17.757225 29.595376 35.514451 29.595376 29.595376-11.83815 29.595376-29.595376c0-18.49711-11.83815-29.595376-29.595376-29.595375zM577.849711 513.479769c-11.83815 0-22.936416 12.578035-22.936416 23.6763 0 12.578035 11.83815 23.676301 22.936416 23.676301 17.757225 0 29.595376-11.83815 29.595376-23.676301s-11.83815-23.676301-29.595376-23.6763zM501.641618 401.017341c17.757225 0 29.595376-12.578035 29.595376-29.595376 0-17.757225-11.83815-29.595376-29.595376-29.595375s-35.514451 11.83815-35.51445 29.595375 17.757225 29.595376 35.51445 29.595376zM706.589595 513.479769c-11.83815 0-22.936416 12.578035-22.936416 23.6763 0 12.578035 11.83815 23.676301 22.936416 23.676301 17.757225 0 29.595376-11.83815 29.595376-23.676301s-11.83815-23.676301-29.595376-23.6763z" fill="#28C445" p-id="3436"></path><path d="M510.520231 2.959538C228.624277 2.959538 0 231.583815 0 513.479769s228.624277 510.520231 510.520231 510.520231 510.520231-228.624277 510.520231-510.520231-228.624277-510.520231-510.520231-510.520231zM413.595376 644.439306c-29.595376 0-53.271676-5.919075-81.387284-12.578034l-81.387283 41.433526 22.936416-71.768786c-58.450867-41.433526-93.965318-95.445087-93.965317-159.815029 0-113.202312 105.803468-201.988439 233.803468-201.98844 114.682081 0 216.046243 71.028902 236.023121 166.473989-7.398844-0.739884-14.797688-1.479769-22.196532-1.479769-110.982659 1.479769-198.289017 85.086705-198.289017 188.67052 0 17.017341 2.959538 33.294798 7.398844 49.572255-7.398844 0.739884-15.537572 1.479769-22.936416 1.479768z m346.265896 82.867052l17.757225 59.190752-63.630058-35.514451c-22.936416 5.919075-46.612717 11.83815-70.289017 11.83815-111.722543 0-199.768786-76.947977-199.768786-172.393063-0.739884-94.705202 87.306358-171.653179 198.289017-171.65318 105.803468 0 199.028902 77.687861 199.028902 172.393064 0 53.271676-34.774566 100.624277-81.387283 136.138728z" fill="#28C445" p-id="3437"></path></svg>&nbsp;&nbsp;微信'
                            : (data == 2 ? '<svg t="1683617068146" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5515" width="16" height="16"><path d="M1024.0512 701.0304V196.864A196.9664 196.9664 0 0 0 827.136 0H196.864A196.9664 196.9664 0 0 0 0 196.864v630.272A196.9152 196.9152 0 0 0 196.864 1024h630.272a197.12 197.12 0 0 0 193.8432-162.0992c-52.224-22.6304-278.528-120.32-396.4416-176.64-89.7024 108.6976-183.7056 173.9264-325.3248 173.9264s-236.1856-87.2448-224.8192-194.048c7.4752-70.0416 55.552-184.576 264.2944-164.9664 110.08 10.3424 160.4096 30.8736 250.1632 60.5184 23.1936-42.5984 42.496-89.4464 57.1392-139.264H248.064v-39.424h196.9152V311.1424H204.8V267.776h240.128V165.632s2.1504-15.9744 19.8144-15.9744h98.4576V267.776h256v43.4176h-256V381.952h208.8448a805.9904 805.9904 0 0 1-84.8384 212.6848c60.672 22.016 336.7936 106.3936 336.7936 106.3936zM283.5456 791.6032c-149.6576 0-173.312-94.464-165.376-133.9392 7.8336-39.3216 51.2-90.624 134.4-90.624 95.5904 0 181.248 24.4736 284.0576 74.5472-72.192 94.0032-160.9216 150.016-253.0816 150.016z" fill="#009FE8" p-id="5516"></path></svg>&nbsp;&nbsp;支付宝'
                                : '<svg t="1683617037274" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4528" width="16" height="16"><path d="M921.6 518.6624a77.824 77.824 0 0 0-6.4-0.2624h-153.6c-42.4128 0-76.8 34.3872-76.8 76.8s34.3872 76.8 76.8 76.8h153.6c2.1568 0 4.288-0.0896 6.4-0.2624V800c0 42.4128-34.3872 76.8-76.8 76.8H179.2c-42.4128 0-76.8-34.3872-76.8-76.8V390.4c0-42.4128 34.3872-76.8 76.8-76.8h665.6c42.4128 0 76.8 34.3872 76.8 76.8v128.2624zM861.5168 275.2H216.5248a76.9792 76.9792 0 0 1 25.9648-12.3776l500.3008-132.224c40.9344-10.816 83.008 13.1392 93.984 53.5168L861.5168 275.2zM761.6 544h134.4a25.6 25.6 0 0 1 25.6 25.6v51.2a25.6 25.6 0 0 1-25.6 25.6h-134.4a51.2 51.2 0 1 1 0-102.4z m6.4 83.2a32 32 0 1 0 0-64 32 32 0 0 0 0 64z" fill="#59AAFF" p-id="4529"></path></svg>&nbsp;&nbsp;余额');
                    }
                },
                {
                    data: "createTime",
                    sClass: "text-center",
                    render: function (data, type, row, meta) {
                        return formatterDate(new Date(data));
                    }
                },
                {
                    data: "status",
                    sClass: "text-center",
                    render: function (data, type, row, meta) {
                        return data == 1 ? '待支付' : (data == 2 ? '支付成功' : '过期');
                    }
                },
                {
                    data: "id",
                    defaultContent: "",
                    sClass: "relative",
                    sStyle: {overflow: "auto"},
                    render: function (data, type, row, meta) {
                        return row.status == 1 ? '<a class="action-btn " href="javascript:void(0); ">\n' +
                            '                                                            <svg class="default-size " viewBox="0 0 341.333 341.333 ">\n' +
                            '                                                                <g>\n' +
                            '                                                                    <g>\n' +
                            '                                                                        <g>\n' +
                            '                                                                            <path d="M170.667,85.333c23.573,0,42.667-19.093,42.667-42.667C213.333,19.093,194.24,0,170.667,0S128,19.093,128,42.667 C128,66.24,147.093,85.333,170.667,85.333z "></path>\n' +
                            '                                                                            <path d="M170.667,128C147.093,128,128,147.093,128,170.667s19.093,42.667,42.667,42.667s42.667-19.093,42.667-42.667 S194.24,128,170.667,128z "></path>\n' +
                            '                                                                            <path d="M170.667,256C147.093,256,128,275.093,128,298.667c0,23.573,19.093,42.667,42.667,42.667s42.667-19.093,42.667-42.667 C213.333,275.093,194.24,256,170.667,256z "></path>\n' +
                            '                                                                        </g>\n' +
                            '                                                                    </g>\n' +
                            '                                                                </g>\n' +
                            '                                                            </svg>\n' +
                            '                                                        </a><div class="action-option ">\n' +
                            '                                                            <ul>\n' +
                            '                                                                <li>\n' +
                            '                                                                    <a href="javascript:void(0);" onclick="payOrder(\'' + row.payUrl + '\')">' +
                            '<svg t="1683511885715" class="icon" viewBox="0 0 1068 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2520" width="16" height="16"><path d="M3.710145 0h1024v1024H3.710145z" fill="#ffffff" fill-opacity="0" p-id="2521"></path><path d="M402.216812 278.229333h215.296c66.56 0 117.418667-151.893333 117.418666-151.893333 0-45.525333-4.309333-79.957333-78.293333-82.346667-73.984-2.432-91.690667 54.357333-144.853333 54.357334-54.442667 0-81.706667-44.672-148.736-54.4-66.986667-9.685333-78.293333 36.864-78.293334 82.389333 0 0 50.773333 151.893333 117.461334 151.893333z m227.029333 46.976H402.216812C150.782145 325.205333 89.043478 844.586667 89.043478 844.586667 89.043478 912.853333 141.608812 981.333333 206.462145 981.333333h618.496C889.811478 981.333333 942.376812 912.810667 942.376812 844.586667c0 0-61.738667-519.381333-313.130667-519.381334z m25.770667 399.189334c15.189333 0 27.477333 12.928 27.477333 28.842666 0 15.957333-12.288 28.885333-27.477333 28.885334h-111.36v75.690666a29.226667 29.226667 0 0 1-13.397334 25.770667 26.282667 26.282667 0 0 1-27.946666 0 29.226667 29.226667 0 0 1-13.44-25.770667v-75.690666H376.830145c-15.189333 0-27.477333-12.928-27.477333-28.885334 0-15.914667 12.288-28.842667 27.477333-28.842666h112.042667v-36.650667H376.830145c-15.189333 0-27.477333-12.928-27.477333-28.842667 0-15.957333 12.288-28.842667 27.477333-28.842666h75.733333L375.038145 485.12a29.696 29.696 0 0 1 10.666667-38.229333 26.666667 26.666667 0 0 1 36.821333 9.386666l93.354667 173.781334h4.693333l93.397333-173.781334a26.709333 26.709333 0 0 1 37.461334-10.538666c13.141333 7.978667 17.621333 25.6 10.026666 39.381333l-77.525333 144.938667h71.082667c15.189333 0 27.477333 12.928 27.477333 28.842666 0 15.957333-12.288 28.885333-27.477333 28.885334h-111.36v36.608h111.36z" fill="#ffffff" p-id="2522"></path><path d="M844.243478 883.2m-42.666666 0a42.666667 42.666667 0 1 0 85.333333 0 42.666667 42.666667 0 1 0-85.333333 0Z" fill="#ffffff" p-id="2523"></path></svg>' +
                            '&nbsp;&nbsp;继续支付</a>\n' +
                            '                                                                </li>\n' +
                            '                                                                <li>\n' +
                            '                                                                    <a href="javascript:void(0);" onclick="cancleOrder(' + data + ')"><svg t="1683511993205" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2303" width="16" height="16"><path d="M512 64C264.8 64 64 264.8 64 512s200.8 448 448 448 448-200.8 448-448S759.2 64 512 64z m238.4 641.6l-45.6 45.6L512 557.6 318.4 750.4l-45.6-45.6L467.2 512 273.6 318.4l45.6-45.6L512 467.2l193.6-193.6 45.6 45.6L557.6 512l192.8 193.6z" p-id="2304" fill="#ffffff"></path></svg>' +
                            '&nbsp;&nbsp;取消支付</a>\n' +
                            '                                                                </li>\n' +
                            '                                                            </ul>\n' +
                            '                                                        </div>' : '';
                    }
                }
            ],
        });

    });

    function formatterDate(date) {
        var seperator = "-";
        var month = date.getMonth() + 1;
        var strDate = date.getDate();
        if (month >= 1 && month <= 9) {
            month = "0" + month;
        }
        if (strDate >= 0 && strDate <= 9) {
            strDate = "0" + strDate;
        }
        return date.getFullYear() + seperator + month + seperator + strDate;
    }

    function cancleOrder(id) {
        // let item = orderList.find(item => item.id == id)
        $.ajax({
            type: "post",
            url: baseUrl + `/order/cancel?orderId=${id}`, //url
            dataType: "json",
            contentType: "application/json;charset=utf-8",
            headers: {
                token: localStorage.getItem('token')
            },
            success: function (result) {
                if (result.code) {
                    $.showAlert({title: "提示", body: result.msg});
                } else {
                    searchPage();
                }
            },
        });
    }

    function payOrder(payUrl) {
        pay(payUrl);
    };


    // 搜索
    function searchPage() {
        var param = {
            // "key": $("#search").val(),
        };
        table.settings()[0].ajax.data = param;
        table.ajax.reload();
    }

    function pay(url) {
        layer.open({
            type: 2,
            area: [`${$("body").width() > 1200 ? "700px" : "80vw"}`, "80vh"],
            offset: ['2%', '20%'],
            content: url,
            scrollbar: true,
            end: function () {
                searchPage();
            },
        });
    }

</script>
</body>