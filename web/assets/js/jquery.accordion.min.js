/**
 * Accordion, jQuery Plugin
 *
 * This plugin provides an accordion with cookie support.
 *
 * Copyright (c) 2011 John Snyder (snyderplace.com)
 * @license http://www.snyderplace.com/accordion/license.txt New BSD
 * @version 1.1
 */
/*
 http://www.snyderplace.com/accordion/license.txt New BSD
 @version 1.1
*/
(function(d){function m(a,b){var c=d.extend({},d.fn.accordion.defaults,b),f="";a.each(function(){var a=d(this);a.data("accordion-opts",c);"mouseenter"==c.bind&&a.bind("mouseenter",function(b){b.preventDefault();g(a,c)});"mouseover"==c.bind&&a.bind("mouseover",function(b){b.preventDefault();g(a,c)});"click"==c.bind&&a.bind("click",function(b){b.preventDefault();g(a,c)});"dblclick"==c.bind&&a.bind("dblclick",function(b){b.preventDefault();g(a,c)});id=a.attr("id");e(c)?l(c)?!1===n(id,c)?(a.addClass(c.cssClose),c.loadClose(a,c)):(a.addClass(c.cssOpen),c.loadOpen(a,c),f=id):id!=c.defaultOpen?(a.addClass(c.cssClose),c.loadClose(a,c)):(a.addClass(c.cssOpen),c.loadOpen(a,c),f=id):id!=c.defaultOpen?(a.addClass(c.cssClose),c.loadClose(a,c)):(a.addClass(c.cssOpen),c.loadOpen(a,c),f=id)});0<f.length&&e(c)?h(f,c):h("",c);return a}function k(a){opened=d(document).find("."+a.cssOpen);d.each(opened,function(){d(this).addClass(a.cssClose).removeClass(a.cssOpen);a.animateClose(d(this),a)})}function g(a,b){if(a.hasClass(b.cssOpen))return k(b),e(b)&&h("",b),!1;k(b);k(b);a.removeClass(b.cssClose).addClass(b.cssOpen);b.animateOpen(a,b);e(b)&&(id=a.attr("id"),h(id,b));return!1}function e(a){return d.cookie&&""!=a.cookieName?!0:!1}function h(a,b){if(!e(b))return!1;d.cookie(b.cookieName,a,b.cookieOptions)}function n(a,b){if(!e(b)||!l(b))return!1;cookie=unescape(d.cookie(b.cookieName));return cookie!=a?!1:!0}function l(a){return e(a)&&null!=d.cookie(a.cookieName)?!0:!1}d.fn.accordion=function(a){if(!this||1>this.length)return this;m(this,a)};d.fn.accordion.defaults={cssClose:"accordion-close",cssOpen:"accordion-open",cookieName:"accordion",cookieOptions:{path:"/",expires:7,domain:"",secure:""},defaultOpen:"",speed:"slow",bind:"click",animateOpen:function(a,b){a.next().stop(!0,!0).slideDown(b.speed)},animateClose:function(a,b){a.next().stop(!0,!0).slideUp(b.speed)},loadOpen:function(a,b){a.next().show()},loadClose:function(a,b){a.next().hide()}}})(jQuery);