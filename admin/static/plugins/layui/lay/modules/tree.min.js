/** layui-v1.0.7 LGPL License By http://www.layui.com */
layui.define("jquery",function(n){var g=layui.jquery,p=layui.hint(),f=function(a){this.options=a},l=["\x26#xe623;","\x26#xe625;"],q=["\x26#xe626;","\x26#xe627;"],r=["\x26#xe62b;","\x26#xe62a;"],m=["\x26#xe622;","\x26#xe624;"];f.prototype.init=function(a){a.addClass("layui-box layui-tree");this.options.skin&&a.addClass("layui-tree-skin-"+this.options.skin);this.tree(a);this.on(a)};f.prototype.tree=function(a,e){var b=this,d=b.options;layui.each(e||d.nodes,function(e,c){var h=c.children&&0<c.children.length,f=g('\x3cul class\x3d"'+(c.spread?"layui-show":"")+'"\x3e\x3c/ul\x3e'),k=g(["\x3cli "+(c.spread?'data-spread\x3d"'+c.spread+'"':"")+"\x3e",h?'\x3ci class\x3d"layui-icon layui-tree-spread"\x3e'+(c.spread?l[1]:l[0])+"\x3c/i\x3e":"",d.check?'\x3ci class\x3d"layui-icon layui-tree-check"\x3e'+("checkbox"===d.check?q[0]:"radio"===d.check?r[0]:"")+"\x3c/i\x3e":"",'\x3ca href\x3d"'+(c.href||"javascript:;")+'" '+(d.target&&c.href?'target\x3d"'+d.target+'"':"")+"\x3e"+('\x3ci class\x3d"layui-icon layui-tree-'+(h?"branch":"leaf")+'"\x3e'+(h?c.spread?m[1]:m[0]:"\x26#xe621;")+"\x3c/i\x3e")+("\x3ccite\x3e"+(c.name||"\u672a\u547d\u540d")+"\x3c/cite\x3e\x3c/a\x3e"),"\x3c/li\x3e"].join(""));h&&(k.append(f),b.tree(f,c.children));a.append(k);"function"==typeof d.click&&b.click(k,c);b.spread(k,c);d.drag&&b.drag(k,c)})};f.prototype.click=function(a,e){var b=this.options;a.children("a").on("click",function(a){layui.stope(a);b.click(e)})};f.prototype.spread=function(a,e){var b=(this.options,a.children(".layui-tree-spread")),d=a.children("ul"),h=a.children("a"),c=function(){a.data("spread")?(a.data("spread",null),d.removeClass("layui-show"),b.html(l[0]),h.find(".layui-icon").html(m[0])):(a.data("spread",!0),d.addClass("layui-show"),b.html(l[1]),h.find(".layui-icon").html(m[1]))};d[0]&&(b.on("click",c),h.on("dblclick",c))};f.prototype.on=function(a){var e=this,b=e.options;a.find("i").on("selectstart",function(a){return!1});b.drag&&g(document).on("mousemove",function(a){var b=e.move;if(b.from){var c=(b.to,g('\x3cdiv class\x3d"layui-box layui-tree-drag"\x3e\x3c/div\x3e'));a.preventDefault();g(".layui-tree-drag")[0]||g("body").append(c);c=g(".layui-tree-drag")[0]?g(".layui-tree-drag"):c;c.addClass("layui-show").html(b.from.elem.children("a").html());c.css({left:a.pageX+10,top:a.pageY+10})}}).on("mouseup",function(){var a=e.move;a.from&&(a.from.elem.children("a").removeClass("layui-tree-enter"),a.to&&a.to.elem.children("a").removeClass("layui-tree-enter"),e.move={},g(".layui-tree-drag").remove())})};f.prototype.move={};f.prototype.drag=function(a,e){var b=this,d=(b.options,a.children("a")),f=function(){var c=g(this),d=b.move;d.from&&(d.to={item:e,elem:a},c.addClass("layui-tree-enter"))};d.on("mousedown",function(){b.move.from={item:e,elem:a}});d.on("mouseenter",f).on("mousemove",f).on("mouseleave",function(){var a=g(this),d=b.move;d.from&&(delete d.to,a.removeClass("layui-tree-enter"))})};n("tree",function(a){var e=new f(a=a||{}),b=g(a.elem);return b[0]?void e.init(b):p.error("layui.tree \u6ca1\u6709\u627e\u5230"+a.elem+"\u5143\u7d20")})});