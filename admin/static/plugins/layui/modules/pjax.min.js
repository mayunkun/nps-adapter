//依赖layui.js
layui.define(["jquery"],function(w){var B=layui.jquery;(function(b){function w(a,c,e){var d=this;return this.on("click.pjax",a,function(a){var f=b.extend({},p(c,e));f.container||(f.container=b(this).attr("data-pjax")||d);C(a,f)})}function C(a,c,e){e=p(c,e);c=a.currentTarget;if("A"!==c.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(1<a.which||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey||location.protocol!==c.protocol||location.hostname!==c.hostname||-1<c.href.indexOf("#")&&c.href.replace(/#.*/,"")==location.href.replace(/#.*/,"")||a.isDefaultPrevented())){var d={url:c.href,container:b(c).attr("data-pjax"),target:c};e=b.extend({},d,e);d=b.Event("pjax:click");b(c).trigger(d,[e]);d.isDefaultPrevented()||(g(e),a.preventDefault(),b(c).trigger("pjax:clicked",[e]))}}function L(a,c,e){e=p(c,e);c=a.currentTarget;if("FORM"!==c.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var d={type:c.method.toUpperCase(),url:c.action,container:b(c).attr("data-pjax"),target:c};if("GET"!==d.type&&void 0!==window.FormData)d.data=new FormData(c),d.processData=!1,d.contentType=!1;else{if(b(c).find(":file").length)return;d.data=b(c).serializeArray()}g(b.extend({},d,e));a.preventDefault()}function g(a){function c(a,c,d){d||(d={});d.relatedTarget=e;a=b.Event(a,d);f.trigger(a,c);return!a.isDefaultPrevented()}a=b.extend(!0,{},b.ajaxSettings,g.defaults,a);b.isFunction(a.url)&&(a.url=a.url());var e=a.target,d=r(a.url).hash,f=a.context=D(a.container);a.data||(a.data={});b.isArray(a.data)?a.data.push({name:"_pjax",value:f.selector}):a.data._pjax=f.selector;var k;a.beforeSend=function(b,e){"GET"!==e.type&&(e.timeout=0);b.setRequestHeader("X-PJAX","true");b.setRequestHeader("X-PJAX-Container",f.selector);if(!c("pjax:beforeSend",[b,e]))return!1;0<e.timeout&&(k=setTimeout(function(){c("pjax:timeout",[b,a])&&b.abort("timeout")},e.timeout),e.timeout=0);var g=r(e.url);d&&(g.hash=d);a.requestUrl=E(g)};a.complete=function(b,d){k&&clearTimeout(k);c("pjax:complete",[b,d,a]);c("pjax:end",[b,a])};a.error=function(b,d,e){var f=F("",b,a);b=c("pjax:error",[b,d,e,a]);"GET"==a.type&&"abort"!==d&&b&&t(f.url)};a.success=function(e,l,k){var m=g.state,q="function"===typeof b.pjax.defaults.version?b.pjax.defaults.version():b.pjax.defaults.version,n=k.getResponseHeader("X-PJAX-Version"),h=F(e,k,a),p=r(h.url);d&&(p.hash=d,h.url=p.href);if(q&&n&&q!==n)t(h.url);else if(h.contents){g.state={id:a.id||(new Date).getTime(),url:h.url,title:h.title,container:f.selector,fragment:a.fragment,timeout:a.timeout};(a.push||a.replace)&&window.history.replaceState(g.state,h.title,h.url);try{document.activeElement.blur()}catch(S){}h.title&&(document.title=h.title);c("pjax:beforeReplace",[h.contents,a],{state:g.state,previousState:m});f.html(h.contents);(m=f.find("input[autofocus], textarea[autofocus]").last()[0])&&document.activeElement!==m&&m.focus();M(h.scripts);h=a.scrollTo;d&&(m=decodeURIComponent(d.slice(1)),m=document.getElementById(m)||document.getElementsByName(m)[0])&&(h=b(m).offset().top);"number"==typeof h&&b(window).scrollTop(h);c("pjax:success",[e,l,k,a])}else t(h.url)};g.state||(g.state={id:(new Date).getTime(),url:window.location.href,title:document.title,container:f.selector,fragment:a.fragment,timeout:a.timeout},window.history.replaceState(g.state,document.title));G(g.xhr);g.options=a;var l=g.xhr=b.ajax(a);0<l.readyState&&(a.push&&!a.replace&&(N(g.state.id,H(f)),window.history.pushState(null,"",a.requestUrl)),c("pjax:start",[l,a]),c("pjax:send",[l,a]));return g.xhr}function O(a,c){return g(b.extend({url:window.location.href,push:!1,replace:!0,scrollTo:!1},p(a,c)))}function t(a){window.history.replaceState(null,"",g.state.url);window.location.replace(a)}function I(a){u||G(g.xhr);var c=g.state,e=a.state,d;if(e&&e.container){if(u&&P==e.url)return;if(c){if(c.id===e.id)return;d=c.id<e.id?"forward":"back"}var f=n[e.id]||[];a=b(f[0]||e.container);f=f[1];if(a.length){if(c){var k=d,l=c.id,q=H(a);n[l]=q;"forward"===k?(k=v,q=x):(k=x,q=v);k.push(l);(l=q.pop())&&delete n[l];y(k,g.defaults.maxCacheLength)}d=b.Event("pjax:popstate",{state:e,direction:d});a.trigger(d);d={id:e.id,url:e.url,container:a,push:!1,fragment:e.fragment,timeout:e.timeout,scrollTo:!1};f?(a.trigger("pjax:start",[null,d]),g.state=e,e.title&&(document.title=e.title),c=b.Event("pjax:beforeReplace",{state:e,previousState:c}),a.trigger(c,[f,d]),a.html(f),a.trigger("pjax:end",[null,d])):g(d);a[0].offsetHeight}else t(location.href)}u=!1}function Q(a){var c=b.isFunction(a.url)?a.url():a.url,e=a.type?a.type.toUpperCase():"GET",d=b("\x3cform\x3e",{method:"GET"===e?"GET":"POST",action:c,style:"display:none"});"GET"!==e&&"POST"!==e&&d.append(b("\x3cinput\x3e",{type:"hidden",name:"_method",value:e.toLowerCase()}));a=a.data;if("string"===typeof a)b.each(a.split("\x26"),function(a,c){var e=c.split("\x3d");d.append(b("\x3cinput\x3e",{type:"hidden",name:e[0],value:e[1]}))});else if(b.isArray(a))b.each(a,function(a,c){d.append(b("\x3cinput\x3e",{type:"hidden",name:c.name,value:c.value}))});else if("object"===typeof a)for(var f in a)d.append(b("\x3cinput\x3e",{type:"hidden",name:f,value:a[f]}));b(document.body).append(d);d.submit()}function G(a){a&&4>a.readyState&&(a.onreadystatechange=b.noop,a.abort())}function H(a){var b=a.clone();b.find("script").each(function(){this.src||B._data(this,"globalEval",!1)});return[a.selector,b.contents()]}function E(a){a.search=a.search.replace(/([?&])(_pjax|_)=[^&]*/g,"");return a.href.replace(/\?($|#)/,"$1")}function r(a){var b=document.createElement("a");b.href=a;return b}function p(a,c){a&&c?c.container=a:c=b.isPlainObject(a)?a:{container:a};c.container&&(c.container=D(c.container));return c}function D(a){a=b(a);if(a.length){if(""!==a.selector&&a.context===document)return a;if(a.attr("id"))return b("#"+a.attr("id"));throw"cant get selector for pjax container!";}throw"no pjax container for "+a.selector;}function z(a,b){return a.filter(b).add(a.find(b))}function F(a,c,e){var d={},f=/<html/i.test(a);c=c.getResponseHeader("X-PJAX-URL");d.url=c?E(r(c)):e.requestUrl;f?(c=b(b.parseHTML(a.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0],document,!0)),a=b(b.parseHTML(a.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0],document,!0))):c=a=b(b.parseHTML(a,document,!0));if(0===a.length)return d;d.title=z(c,"title").last().text();e.fragment?(f="body"===e.fragment?a:z(a,e.fragment).first(),f.length&&(d.contents="body"===e.fragment?f:f.contents(),d.title||(d.title=f.attr("title")||f.data("title")))):f||(d.contents=a);d.contents&&(d.contents=d.contents.not(function(){return b(this).is("title")}),d.contents.find("title").remove(),d.scripts=z(d.contents,"script[src]").remove(),d.contents=d.contents.not(d.scripts));d.title&&(d.title=b.trim(d.title));return d}function M(a){if(a){var c=b("script[src]");a.each(function(){var a=this.src;if(!c.filter(function(){return this.src===a}).length){var d=document.createElement("script"),f=b(this).attr("type");f&&(d.type=f);d.src=b(this).attr("src");document.head.appendChild(d)}})}}function N(a,b){n[a]=b;v.push(a);y(x,0);y(v,g.defaults.maxCacheLength)}function y(a,b){for(;a.length>b;)delete n[a.shift()]}function R(){return b("meta").filter(function(){var a=b(this).attr("http-equiv");return a&&"X-PJAX-VERSION"===a.toUpperCase()}).attr("content")}function J(){b.fn.pjax=w;b.pjax=g;b.pjax.enable=b.noop;b.pjax.disable=K;b.pjax.click=C;b.pjax.submit=L;b.pjax.reload=O;b.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:R};b(window).on("popstate.pjax",I)}function K(){b.fn.pjax=function(){return this};b.pjax=Q;b.pjax.enable=J;b.pjax.disable=b.noop;b.pjax.click=b.noop;b.pjax.submit=b.noop;b.pjax.reload=function(){window.location.reload()};b(window).off("popstate.pjax",I)}var u=!0,P=window.location.href,A=window.history.state;A&&A.container&&(g.state=A);"state"in window.history&&(u=!1);var n={},x=[],v=[];0>b.inArray("state",b.event.props)&&b.event.props.push("state");b.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/);b.support.pjax?J():K()})(B);w("pjax",null)});